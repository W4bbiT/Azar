{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/token-storage.service\";\nimport * as i2 from \"src/app/services/users.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/router\";\nimport * as i5 from \"../../../directives/click-outside.directive\";\nfunction ProfileMenuComponent_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 3);\n    i0.ɵɵlistener(\"click\", function ProfileMenuComponent_div_1_Template_div_click_0_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.toggleMenu());\n    });\n    i0.ɵɵelement(1, \"img\", 4);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate(\"src\", ctx_r0.currentUser.profileImage, i0.ɵɵsanitizeUrl);\n  }\n}\nfunction ProfileMenuComponent_div_2_div_18_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵnamespaceHTML();\n    i0.ɵɵelementStart(0, \"div\", 7)(1, \"a\", 16);\n    i0.ɵɵlistener(\"click\", function ProfileMenuComponent_div_2_div_18_Template_a_click_1_listener() {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r5 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r5.logout());\n    });\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(2, \"svg\", 9);\n    i0.ɵɵelement(3, \"path\", 17);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(4, \" Logout \");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction ProfileMenuComponent_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 5)(1, \"div\");\n    i0.ɵɵelement(2, \"div\", 6);\n    i0.ɵɵelementStart(3, \"div\", 7)(4, \"a\", 8);\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(5, \"svg\", 9);\n    i0.ɵɵelement(6, \"path\", 10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(7, \" Profile\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵnamespaceHTML();\n    i0.ɵɵelementStart(8, \"div\", 7)(9, \"a\", 11);\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(10, \"svg\", 9);\n    i0.ɵɵelement(11, \"path\", 12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(12, \" Orders \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵnamespaceHTML();\n    i0.ɵɵelementStart(13, \"div\", 7)(14, \"a\", 13);\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(15, \"svg\", 9);\n    i0.ɵɵelement(16, \"path\", 14);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(17, \"Edit\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(18, ProfileMenuComponent_div_2_div_18_Template, 5, 0, \"div\", 15);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(18);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.isLoggedIn && ctx_r1.currentUser);\n  }\n}\nexport let ProfileMenuComponent = /*#__PURE__*/(() => {\n  class ProfileMenuComponent {\n    constructor(tokenStorageService, userService) {\n      this.tokenStorageService = tokenStorageService;\n      this.userService = userService;\n      this.isLoggedIn = false;\n      this.isLoggedOut = false;\n      this.isMenuOpened = false;\n    }\n    ngOnInit() {\n      this.isLoggedIn = this.tokenStorageService.isLoggedIn();\n      if (this.isLoggedIn) {\n        this.userService.getOneUser().subscribe({\n          next: res => {\n            if (res) {\n              this.currentUser = res;\n            }\n          },\n          error: err => {\n            if (err.status === 401) {\n              this.msg = 'You are not authorized to visit this route.  No data is displayed.';\n            }\n            console.log(err);\n          }\n        });\n      }\n    }\n    logout() {\n      this.tokenStorageService.logout();\n      window.location.reload();\n    }\n    toggleMenu() {\n      this.isMenuOpened = !this.isMenuOpened;\n    }\n    clickedOutside() {\n      this.isMenuOpened = false;\n    }\n  }\n  ProfileMenuComponent.ɵfac = function ProfileMenuComponent_Factory(t) {\n    return new (t || ProfileMenuComponent)(i0.ɵɵdirectiveInject(i1.TokenStorageService), i0.ɵɵdirectiveInject(i2.UsersService));\n  };\n  ProfileMenuComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ProfileMenuComponent,\n    selectors: [[\"app-profile-menu\"]],\n    decls: 3,\n    vars: 2,\n    consts: [[\"clickOutside\", \"\", 3, \"clickOutside\"], [\"class\", \"flex items-center cursor-pointer\", 3, \"click\", 4, \"ngIf\"], [\"class\", \"absolute mt-3 -ml-5 w-48 p-5 rounded-lg text-reddish origin-top dropDownProfile z-20 shadow-reddish shadow-md\", 4, \"ngIf\"], [1, \"flex\", \"items-center\", \"cursor-pointer\", 3, \"click\"], [1, \"w-12\", \"h-12\", \"p-1\", \"rounded-full\", \"border-2\", \"border-reddish\", 3, \"src\"], [1, \"absolute\", \"mt-3\", \"-ml-5\", \"w-48\", \"p-5\", \"rounded-lg\", \"text-reddish\", \"origin-top\", \"dropDownProfile\", \"z-20\", \"shadow-reddish\", \"shadow-md\"], [1, \"absolute\", \"triangle-up\"], [1, \"cursor-pointer\", \"p-2\", \"hover:border-l-2\"], [\"routerLink\", \"/profile\", 1, \"flex\", \"gap-2\"], [\"xmlns\", \"http://www.w3.org/2000/svg\", \"fill\", \"none\", \"viewBox\", \"0 0 24 24\", \"stroke-width\", \"1.5\", \"stroke\", \"currentColor\", 1, \"w-6\", \"h-6\"], [\"stroke-linecap\", \"round\", \"stroke-linejoin\", \"round\", \"d\", \"M17.982 18.725A7.488 7.488 0 0012 15.75a7.488 7.488 0 00-5.982 2.975m11.963 0a9 9 0 10-11.963 0m11.963 0A8.966 8.966 0 0112 21a8.966 8.966 0 01-5.982-2.275M15 9.75a3 3 0 11-6 0 3 3 0 016 0z\"], [\"routerLink\", \"/orders\", 1, \"flex\", \"gap-2\"], [\"stroke-linecap\", \"round\", \"stroke-linejoin\", \"round\", \"d\", \"M9 12h3.75M9 15h3.75M9 18h3.75m3 .75H18a2.25 2.25 0 002.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 00-1.123-.08m-5.801 0c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 00.75-.75 2.25 2.25 0 00-.1-.664m-5.8 0A2.251 2.251 0 0113.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m0 0H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V9.375c0-.621-.504-1.125-1.125-1.125H8.25zM6.75 12h.008v.008H6.75V12zm0 3h.008v.008H6.75V15zm0 3h.008v.008H6.75V18z\"], [\"routerLink\", \"/edit\", 1, \"flex\", \"gap-2\"], [\"stroke-linecap\", \"round\", \"stroke-linejoin\", \"round\", \"d\", \"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10\"], [\"class\", \"cursor-pointer p-2 hover:border-l-2\", 4, \"ngIf\"], [1, \"flex\", \"gap-2\", 3, \"click\"], [\"stroke-linecap\", \"round\", \"stroke-linejoin\", \"round\", \"d\", \"M15.75 9V5.25A2.25 2.25 0 0013.5 3h-6a2.25 2.25 0 00-2.25 2.25v13.5A2.25 2.25 0 007.5 21h6a2.25 2.25 0 002.25-2.25V15M12 9l-3 3m0 0l3 3m-3-3h12.75\"]],\n    template: function ProfileMenuComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵlistener(\"clickOutside\", function ProfileMenuComponent_Template_div_clickOutside_0_listener() {\n          return ctx.clickedOutside();\n        });\n        i0.ɵɵtemplate(1, ProfileMenuComponent_div_1_Template, 2, 1, \"div\", 1);\n        i0.ɵɵtemplate(2, ProfileMenuComponent_div_2_Template, 19, 1, \"div\", 2);\n        i0.ɵɵelementEnd();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.currentUser);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.isMenuOpened);\n      }\n    },\n    dependencies: [i3.NgIf, i4.RouterLink, i5.ClickOutsideDirective],\n    styles: [\".dropDownProfile[_ngcontent-%COMP%]{animation-name:_ngcontent-%COMP%_profile-animation;animation-duration:.3s;animation-timing-function:ease;background:rgba(50,50,50,.5);backdrop-filter:blur(15px);-webkit-backdrop-filter:blur(15px)}.triangle-up[_ngcontent-%COMP%]{width:0;height:0;border-radius:50%;border-left:15px solid transparent;border-right:15px solid transparent;border-bottom:15px solid #990011FF;transform:translate(10px,-31px)}@keyframes _ngcontent-%COMP%_profile-animation{0%{transform:scaleY(0)}80%{transform:scaleY(1.1)}to{transform:scaleY(1)}}\"]\n  });\n  return ProfileMenuComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}