{"version":3,"file":"egjs-ngx-flicking.mjs","sources":["../../../projects/ngx-flicking/src/lib/ngx-flicking-panel.directive.ts","../../../projects/ngx-flicking/src/lib/consts.ts","../../../projects/ngx-flicking/src/lib/FlickingInterface.ts","../../../projects/ngx-flicking/src/lib/NgxRenderer.ts","../../../projects/ngx-flicking/src/lib/NgxElementProvider.ts","../../../projects/ngx-flicking/src/lib/ngx-flicking.component.ts","../../../projects/ngx-flicking/src/lib/ngx-flicking.module.ts","../../../projects/ngx-flicking/src/public-api.ts","../../../projects/ngx-flicking/src/egjs-ngx-flicking.ts"],"sourcesContent":["/*\n * Copyright (c) 2015 NAVER Corp.\n * egjs projects are licensed under the MIT license\n */\nimport { Directive, ElementRef, Renderer2 } from '@angular/core';\nimport Flicking from '@egjs/flicking';\n\n@Directive({\n  selector: '[flicking-panel], [FlickingPanel]',\n  standalone: true,\n})\nexport class NgxFlickingPanel {\n  private _rendered: boolean;\n\n  public get nativeElement() {\n    return this._host.nativeElement;\n  }\n\n  public get rendered() {\n    return this._rendered;\n  }\n\n  public constructor(\n    private _host: ElementRef<HTMLElement>,\n    private _renderer: Renderer2\n  ) {\n    this._rendered = true;\n  }\n\n  public show(flicking: Flicking) {\n    this._rendered = true;\n\n    const el = this.nativeElement;\n    const cameraEl = flicking.camera.element;\n\n    if (el.parentElement !== cameraEl) {\n      this._renderer.appendChild(cameraEl, el);\n    }\n  }\n\n  public hide(flicking: Flicking) {\n    this._rendered = false;\n\n    const el = this.nativeElement;\n    const cameraEl = flicking.camera.element;\n\n    if (el.parentElement === cameraEl) {\n      this._renderer.removeChild(cameraEl, el);\n    }\n  }\n}\n","import { EVENTS } from \"@egjs/flicking\";\n\nexport const EVENT_NAMES = Object.keys(EVENTS).map((key: keyof typeof EVENTS) => EVENTS[key]);\n","import VanillaFlicking, { withFlickingMethods } from \"@egjs/flicking\";\n\nexport default class FlickingInterface {\n  @withFlickingMethods protected _vanillaFlicking: VanillaFlicking | null;\n}\n// eslint-disable-next-line @typescript-eslint/no-empty-interface\nexport default interface FlickingInterface extends VanillaFlicking { }\n","/* eslint-disable @typescript-eslint/restrict-plus-operands */\nimport { Renderer2 } from \"@angular/core\";\nimport {\n  ExternalRenderer,\n  getFlickingAttached,\n  PanelOptions,\n  RendererOptions\n} from \"@egjs/flicking\";\n\nimport { NgxFlickingPanel } from \"./ngx-flicking-panel.directive\";\nimport { NgxFlickingComponent } from \"./ngx-flicking.component\";\n\nexport interface NgxRendererOptions extends RendererOptions {\n  ngxFlicking: NgxFlickingComponent;\n  ngxRenderer: Renderer2;\n}\n\nclass NgxRenderer extends ExternalRenderer {\n  // Internal States\n  private _ngxFlicking: NgxFlickingComponent;\n  private _ngxRenderer: Renderer2;\n\n  public constructor(options: NgxRendererOptions) {\n    super(options);\n\n    this._ngxFlicking = options.ngxFlicking;\n    this._ngxRenderer = options.ngxRenderer;\n  }\n\n  // eslint-disable-next-line @typescript-eslint/require-await\n  public async render() {\n    const flicking = getFlickingAttached(this._flicking);\n    const strategy = this._strategy;\n\n    strategy.updateRenderingPanels(flicking);\n    strategy.renderPanels(flicking);\n\n    this._resetPanelElementOrder();\n    this._afterRender();\n  }\n\n  protected _collectPanels() {\n    const flicking = getFlickingAttached(this._flicking);\n    const children = this._ngxFlicking.ngxPanels.toArray();\n\n    this._panels = this._strategy.collectPanels(flicking, children);\n  }\n\n  protected _createPanel(externalComponent: NgxFlickingPanel, options: PanelOptions) {\n    return this._strategy.createPanel(externalComponent, options);\n  }\n\n  private _resetPanelElementOrder() {\n    const flicking = getFlickingAttached(this._flicking);\n    const renderer = this._ngxRenderer;\n    const cameraEl = flicking.camera.element;\n\n    // We're using reversed panels here as last panel should be the last element of camera element\n    const reversedElements = this._strategy\n      .getRenderingElementsByOrder(flicking)\n      .reverse();\n\n    reversedElements.forEach((el, idx) => {\n      const nextEl = reversedElements[idx - 1] ? reversedElements[idx - 1] : null;\n\n      if (el.nextElementSibling !== nextEl) {\n        renderer.insertBefore(cameraEl, el, nextEl);\n      }\n    });\n  }\n}\n\nexport default NgxRenderer;\n","/*\n * Copyright (c) 2015 NAVER Corp.\n * egjs projects are licensed under the MIT license\n */\nimport Flicking, { ElementProvider } from \"@egjs/flicking\";\n\nimport { NgxFlickingPanel } from \"./ngx-flicking-panel.directive\";\n\nclass NgxElementProvider implements ElementProvider {\n  private _el: NgxFlickingPanel;\n\n  public get element() { return this._el.nativeElement; }\n  public get rendered() { return this._el.rendered; }\n\n  public constructor(el: NgxFlickingPanel) {\n    this._el = el;\n  }\n\n  public show(flicking: Flicking) {\n    this._el.show(flicking);\n  }\n\n  public hide(flicking: Flicking) {\n    this._el.hide(flicking);\n  }\n}\n\nexport default NgxElementProvider;\n","/**\n * Copyright (c) 2015 NAVER Corp.\n * egjs projects are licensed under the MIT license\n */\nimport {\n  Component,\n  Input,\n  AfterViewInit,\n  ElementRef,\n  OnChanges,\n  Output,\n  EventEmitter,\n  OnDestroy,\n  ViewEncapsulation,\n  QueryList,\n  ContentChildren,\n  Renderer2,\n  HostBinding,\n  Inject,\n  PLATFORM_ID,\n  NgZone,\n} from '@angular/core';\nimport { CommonModule, isPlatformBrowser } from '@angular/common';\nimport { fromEvent, Subject } from 'rxjs';\nimport { takeUntil } from 'rxjs/operators';\nimport VanillaFlicking, {\n  FlickingOptions,\n  FlickingEvents,\n  sync,\n  getDefaultCameraTransform,\n  Plugin,\n  Status,\n  SelectEvent,\n  NeedPanelEvent,\n  VisibleChangeEvent,\n  HoldStartEvent,\n  HoldEndEvent,\n  MoveStartEvent,\n  MoveEvent,\n  MoveEndEvent,\n  WillChangeEvent,\n  ChangedEvent,\n  WillRestoreEvent,\n  RestoredEvent,\n  ReadyEvent,\n  BeforeResizeEvent,\n  AfterResizeEvent,\n  ReachEdgeEvent,\n  PanelChangeEvent,\n  VirtualRenderingStrategy,\n  NormalRenderingStrategy,\n  range,\n  CLASS,\n} from '@egjs/flicking';\nimport ListDiffer from '@egjs/list-differ';\nimport { ComponentEvent } from '@egjs/component';\n\nimport { EVENT_NAMES } from './consts';\nimport FlickingInterface from './FlickingInterface';\nimport { NgxFlickingPanel } from './ngx-flicking-panel.directive';\nimport NgxRenderer, { NgxRendererOptions } from './NgxRenderer';\nimport NgxElementProvider from './NgxElementProvider';\n\n@Component({\n  selector: 'ngx-flicking, [NgxFlicking]',\n  template: `\n    <div [ngClass]=\"_cameraElClass\" [ngStyle]=\"cameraStyleBeforeInit\">\n      <ng-content></ng-content>\n    </div>\n    <ng-content select=\"[in-viewport]\"></ng-content>`,\n  host: {\n    class: 'flicking-viewport',\n    style: 'display: block;',\n  },\n  styleUrls: [\n    \"../../node_modules/@egjs/flicking/dist/flicking.css\"\n  ],\n  encapsulation: ViewEncapsulation.None,\n  standalone: true,\n  imports: [CommonModule],\n})\nexport class NgxFlickingComponent\n  extends FlickingInterface\n  implements AfterViewInit, OnDestroy, OnChanges\n{\n  @Input() public options: Partial<FlickingOptions> = {};\n  @Input() public plugins: Plugin[] = [];\n  @Input() public status: Status;\n  @Input() public cameraClass: string;\n  @Input() public hideBeforeInit: boolean = false;\n  @Input() public firstPanelSize: string;\n  @Output() public ready: EventEmitter<ReadyEvent<NgxFlickingComponent>>;\n  @Output() public beforeResize: EventEmitter<BeforeResizeEvent<NgxFlickingComponent>>;\n  @Output() public afterResize: EventEmitter<AfterResizeEvent<NgxFlickingComponent>>;\n  @Output() public holdStart: EventEmitter<HoldStartEvent<NgxFlickingComponent>>;\n  @Output() public holdEnd: EventEmitter<HoldEndEvent<NgxFlickingComponent>>;\n  @Output() public moveStart: EventEmitter<MoveStartEvent<NgxFlickingComponent>>;\n  @Output() public move: EventEmitter<MoveEvent<NgxFlickingComponent>>;\n  @Output() public moveEnd: EventEmitter<MoveEndEvent<NgxFlickingComponent>>;\n  @Output() public willChange: EventEmitter<WillChangeEvent<NgxFlickingComponent>>;\n  @Output() public changed: EventEmitter<ChangedEvent<NgxFlickingComponent>>;\n  @Output() public willRestore: EventEmitter<WillRestoreEvent<NgxFlickingComponent>>;\n  @Output() public restored: EventEmitter<RestoredEvent<NgxFlickingComponent>>;\n  @Output() public select: EventEmitter<SelectEvent<NgxFlickingComponent>>;\n  @Output() public needPanel: EventEmitter<NeedPanelEvent<NgxFlickingComponent>>;\n  @Output() public visibleChange: EventEmitter<VisibleChangeEvent<NgxFlickingComponent>>;\n  @Output() public reachEdge: EventEmitter<ReachEdgeEvent<NgxFlickingComponent>>;\n  @Output() public panelChange: EventEmitter<PanelChangeEvent<NgxFlickingComponent>>;\n\n  @HostBinding(\"class.vertical\") public get isVertical() {\n    return this.options.horizontal === false;\n  }\n\n  @HostBinding(\"class.flicking-hidden\") public get isHiddenBeforeInit() {\n    const initialized = this._vanillaFlicking && this._vanillaFlicking.initialized;\n    return this.hideBeforeInit && !initialized;\n  }\n\n  public get cameraStyleBeforeInit() {\n    const initialized = this._vanillaFlicking && this._vanillaFlicking.initialized;\n    return !initialized && this.firstPanelSize\n      ? { transform: getDefaultCameraTransform(this.options.align, this.options.horizontal, this.firstPanelSize) }\n      : {};\n  }\n\n  @ContentChildren(NgxFlickingPanel) private _ngxPanels: QueryList<NgxFlickingPanel>;\n  private _pluginsDiffer: ListDiffer<Plugin> = new ListDiffer<Plugin>();\n\n  public get ngxPanels() { return this._ngxPanels; }\n  // eslint-disable-next-line @typescript-eslint/naming-convention\n  public get _cameraElClass() { return `flicking-camera ${this.cameraClass ?? \"\"}`.trim(); }\n\n  private _destroy$ = new Subject<void>();\n\n  public constructor(\n    private _elRef: ElementRef<HTMLElement>,\n    private _ngxRenderer: Renderer2,\n    @Inject(PLATFORM_ID) private _platformId: string,\n    private _ngZone: NgZone,\n  ) {\n    super();\n\n    this._vanillaFlicking = null;\n\n    EVENT_NAMES.forEach(evtName => {\n      this[evtName] = new EventEmitter();\n    });\n  }\n\n  public ngAfterViewInit() {\n    if (!isPlatformBrowser(this._platformId)) return;\n\n    const options = this.options;\n    const viewportEl = this._elRef.nativeElement;\n    const virtual = options.virtual && options.panelsPerView > 0;\n    const rendererOptions: NgxRendererOptions = {\n      ngxFlicking: this,\n      align: options.align,\n      ngxRenderer: this._ngxRenderer,\n      strategy: virtual\n        ? new VirtualRenderingStrategy()\n        : new NormalRenderingStrategy({\n          providerCtor: NgxElementProvider\n        })\n    };\n\n    if (virtual) {\n      this._initVirtualElements();\n    }\n\n    // Initialize `VanillaFlicking` outside of the Angular zone so it will set up `mousedown`\n    // and `mousemove` event listeners within the root zone, and it won't trigger change detection\n    // every time the user moves the mouse.\n    const flicking = this._ngZone.runOutsideAngular(() => new VanillaFlicking(viewportEl, {\n      ...this.options,\n      externalRenderer: new NgxRenderer(rendererOptions)\n    }));\n    this._vanillaFlicking = flicking;\n\n    const elementDiffer = new ListDiffer(this._ngxPanels.toArray());\n\n    this._bindEvents();\n    this._checkPlugins();\n\n    if (this.status) {\n      flicking.setStatus(this.status);\n    }\n\n    // Note: doesn't need to unsubscribe, because `changes`\n    // gets completed by Angular when the view is destroyed.\n    this._ngxPanels.changes.subscribe(() => {\n      const panels = this._ngxPanels.toArray();\n      const diffResult = elementDiffer.update(panels);\n\n      // eslint-disable-next-line @typescript-eslint/no-unused-vars\n      sync(flicking, diffResult, [...diffResult.maintained.map(([_, idx]) => diffResult.list[idx]), ...diffResult.added.map(idx => diffResult.list[idx])]);\n    });\n  }\n\n  public ngOnDestroy() {\n    this._destroy$.next();\n    this._vanillaFlicking?.destroy();\n  }\n\n  public ngOnChanges() {\n    const flicking = this._vanillaFlicking;\n    if (!flicking) return;\n\n    this._ngZone.runOutsideAngular(() => {\n      void flicking.renderer.forceRenderAllPanels();\n    });\n\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    const { virtual, ...newOptions } = this.options;\n\n    // Omit 'virtual', as it can't have any setter\n    for (const key in newOptions) {\n      if (key in flicking && flicking[key] !== newOptions[key]) {\n        flicking[key] = newOptions[key];\n      }\n    }\n\n    this._checkPlugins();\n  }\n\n  private _bindEvents() {\n    const flicking = this._vanillaFlicking!;\n\n    EVENT_NAMES.forEach(evtName => {\n      // `fromEvent` supports passing `JQueryStyleEventEmitter`\n      // (an object with `on` and `off` methods). `flicking` acts as a\n      // jQuery event emitter since it has both methods.\n      fromEvent<ComponentEvent>(flicking, evtName)\n        .pipe(takeUntil(this._destroy$))\n        .subscribe((e) => {\n          // Style guide: Event - https://angular.io/guide/styleguide#dont-prefix-output-properties\n          const emitter = this[evtName] as EventEmitter<FlickingEvents[typeof evtName]>;\n\n          e.currentTarget = this;\n\n          if (emitter && emitter.observers.length > 0) {\n            this._ngZone.run(() => emitter.emit(e as FlickingEvents[typeof evtName]));\n          }\n        });\n    });\n  }\n\n  private _checkPlugins() {\n    const flicking = this._vanillaFlicking;\n    if (!flicking) return;\n\n    const { list, added, removed, prevList } = this._pluginsDiffer.update(this.plugins);\n\n    flicking.addPlugins(...added.map(index => list[index]));\n    flicking.removePlugins(...removed.map(index => prevList[index]));\n  }\n\n  private _initVirtualElements() {\n    const options = this.options;\n    const renderer = this._ngxRenderer;\n    const cameraElement = this._elRef.nativeElement.firstElementChild;\n    const panelsPerView = options.panelsPerView!;\n    const virtual = options.virtual!;\n    const fragment = document.createDocumentFragment();\n\n    const newElements = range(panelsPerView + 1).map(idx => {\n      const panelEl = renderer.createElement(\"div\");\n      panelEl.className = virtual.panelClass ?? CLASS.DEFAULT_VIRTUAL;\n      panelEl.dataset.elementIndex = idx.toString();\n      return panelEl;\n    });\n\n    newElements.forEach(el => {\n      fragment.appendChild(el);\n    });\n\n    renderer.appendChild(cameraElement, fragment);\n  }\n}\n","import { NgModule } from \"@angular/core\";\n\nimport { NgxFlickingComponent } from \"./ngx-flicking.component\";\nimport { NgxFlickingPanel } from \"./ngx-flicking-panel.directive\";\n\n@NgModule({\n  imports: [NgxFlickingComponent, NgxFlickingPanel],\n  exports: [NgxFlickingComponent, NgxFlickingPanel],\n})\nexport class NgxFlickingModule {}\n","/*\n * Public API Surface of ngx-flicking\n */\nexport * from \"@egjs/flicking\";\nexport * from \"./lib/ngx-flicking-panel.directive\";\nexport * from \"./lib/ngx-flicking.component\";\nexport * from \"./lib/ngx-flicking.module\";\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":["VanillaFlicking"],"mappings":"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"}